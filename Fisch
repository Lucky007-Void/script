-- ‡πÇ‡∏´‡∏•‡∏î Fluent UI Library
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å
local Window = Fluent:CreateWindow({
    Title = "Fisch",
    SubTitle = "LuckyX Hub",
    TabWidth = 160,
    Size = UDim2.fromOffset(500, 350),
    Acrylic = false,
    Theme = "Dark"
})

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å
local Player = game:GetService("Players")
local LocalPlayer = Player.LocalPlayer
local Char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Char:WaitForChild("Humanoid")
local VirtualInputManager = game:GetService("VirtualInputManager")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")
local randomcast = math.random(90, 100) -- ‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏£‡∏á‡∏Ç‡∏ß‡πâ‡∏≤‡∏á
local Cast = { randomcast, 1 }

local function equipitem(v)
    if LocalPlayer.Backpack:FindFirstChild(v) then
        local a = LocalPlayer.Backpack:FindFirstChild(v)
        Humanoid:EquipTool(a)
    end
end

------------------------------------------------------------
-- üìÇ Tab : Main
------------------------------------------------------------
local TabMain = Window:AddTab({ Title = "Main", Icon = "rbxassetid://4483345998" })

-- AutoCast
TabMain:AddToggle("AutoCast", {
    Title = "AutoCast",
    Default = false,
    Callback = function(v)
        _G.AutoCast = v
        pcall(function()
            while _G.AutoCast do
                task.wait(0.2)
                local Rod = Char:FindFirstChildOfClass("Tool")
                if Rod and Rod:FindFirstChild("events") and Rod.events:FindFirstChild("cast") then
                    Rod:WaitForChild("events"):WaitForChild("castAsync"):InvokeServer(unpack(Cast))
                end
            end
        end)
    end
})

-- AutoShake
TabMain:AddToggle("AutoShake", {
    Title = "AutoShake",
    Default = false,
    Callback = function(v)
        _G.AutoShake = v
        pcall(function()
            local function startShakeUI(shakeUI)
                if not shakeUI then return end
                local function tryClick(button)
                    if button and button.Visible then
                        GuiService.SelectedObject = button
                        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, game)
                        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, game)
                    end
                end
                local function monitorSafezone()
                    local safezone = shakeUI:FindFirstChild("safezone")
                    if safezone then
                        local button = safezone:FindFirstChild("button")
                        tryClick(button)
                        safezone.ChildAdded:Connect(function(child)
                            if _G.AutoShake and child.Name == "button" then
                                tryClick(child)
                                child:GetPropertyChangedSignal("Visible"):Connect(function()
                                    if _G.AutoShake and child.Visible then
                                        tryClick(child)
                                    end
                                end)
                            end
                        end)
                        if button then
                            button:GetPropertyChangedSignal("Visible"):Connect(function()
                                if _G.AutoShake and button.Visible then
                                    tryClick(button)
                                end
                            end)
                        end
                    end
                end
                shakeUI:GetPropertyChangedSignal("Enabled"):Connect(function()
                    if _G.AutoShake and shakeUI.Enabled then
                        monitorSafezone()
                    end
                end)
                if shakeUI.Enabled then
                    monitorSafezone()
                end
            end
            local PlayerGUI = LocalPlayer:WaitForChild("PlayerGui")
            if PlayerGUI:FindFirstChild("shakeui") then
                startShakeUI(PlayerGUI.shakeui)
            end
            PlayerGUI.ChildAdded:Connect(function(child)
                if _G.AutoShake and child.Name == "shakeui" then
                    startShakeUI(child)
                end
            end)
        end)
    end
})

-- AutoReel
TabMain:AddToggle("AutoReel", {
    Title = "AutoReel",
    Default = false,
    Callback = function(v)
        _G.AutoReel = v
        pcall(function()
            while _G.AutoReel do
                task.wait()
                for _, gui in pairs(LocalPlayer.PlayerGui:GetChildren()) do
                    if gui:IsA("ScreenGui") and gui.Name == "reel" then
                        if gui:FindFirstChild("bar") then
                            task.wait(0.15)
                            ReplicatedStorage.events.reelfinished:FireServer(100, true)
                        end
                    end
                end
            end
        end)
    end
})


TabMain:AddToggle("Anchored", {
    Title = "Anchored",
    Default = false,
    Callback = function(state)
        local Players = game:GetService("Players")
        local LocalPlayer = Players.LocalPlayer
        local RunService = game:GetService("RunService")

        if state then
            local initialCFrame = nil

            -- ‡∏£‡∏≠‡πÉ‡∏´‡πâ Character ‡∏û‡∏£‡πâ‡∏≠‡∏°
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                initialCFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
            else
                LocalPlayer.CharacterAdded:Wait()
                LocalPlayer.Character:WaitForChild("HumanoidRootPart")
                initialCFrame = LocalPlayer.Character.HumanoidRootPart.CFrame
            end

            -- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏∏‡∏°
            _G.TPLockConnection = RunService.RenderStepped:Connect(function()
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = initialCFrame
                end
            end)
        else
            if _G.TPLockConnection then
                _G.TPLockConnection:Disconnect()
                _G.TPLockConnection = nil
            end
        end
    end
})

task.spawn(function()
    while task.wait() do
        if _G.AutoCast then
            pcall(function()
                for _, v in pairs(LocalPlayer.Backpack:GetChildren()) do
                    if v:IsA("Tool") and v.Name:lower():find("rod") then
                        equipitem(v.Name)
                    end
                end
            end)
        end
    end
end)

------------------------------------------------------------
-- üìÇ Tab : Auto
------------------------------------------------------------
local TabAuto = Window:AddTab({ Title = "Auto", Icon = "rbxassetid://6035190846" })

TabAuto:AddButton({
    Title = "Sell All Fish",
    Description = "‡∏Ç‡∏≤‡∏¢‡∏õ‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
    Callback = function()
        ReplicatedStorage.events.SellAll:InvokeServer()
    end
})

TabAuto:AddButton({
    Title = "Sell Fish in Hand",
    Description = "‡∏Ç‡∏≤‡∏¢‡∏õ‡∏•‡∏≤‡πÉ‡∏ô‡∏°‡∏∑‡∏≠",
    Callback = function()
        ReplicatedStorage.events.Sell:InvokeServer()
    end
})

------------------------------------------------------------
-- üìÇ Tab : Teleport
------------------------------------------------------------
local TabTP = Window:AddTab({ Title = "Teleport", Icon = "rbxassetid://6035190842" })

local locations = {
    ["Merchant"] = Vector3.new(464.740417, 150.62973, 229.492584),
    ["Appraiser"] = Vector3.new(447.3258361816406, 150.54901123046875, 207.81690979003906),
    ["Gole Fisch"] = Vector3.new(-2675.18604, 170.5, 1742.26538),
    ["The Depths"] = Vector3.new(940.204407, -738.083374, 1457.24158),
    ["The Depths2"] = Vector3.new(1382.587646484375, -604.9406127929688, 2341.161376953125),
    ["Ancient Isle"] = Vector3.new(6069.5380859375, 194.9801483154297, 307.2333679199219),
    ["Mossjew"] = Vector3.new(-4863.9990234375, -1793.8779296875, -10125.3154296875),
    ["Kraken"] = Vector3.new(-4377.296875, -996.2604370117188, 2064.634033203125),
    ["Scylla"] = Vector3.new(-2339.830322265625, -11182.8818359375, 7074.814453125),
    ["Craft"] = Vector3.new(-3156.822021484375, -747.2178955078125, 1697.4261474609375),
    ["Sundial"] = Vector3.new(-1148, 134.499985, -1075),
    ["Windset"] = Vector3.new(2849, 178.333237, 2702),
    ["Smokescreen"] = Vector3.new(2789, 139.825485, -625),
    ["Tempest"] = Vector3.new(35, 132.500015, 1943),
    ["QCrate"] = Vector3.new(-217.9184112548828, 135.0543975830078, 1893.77880859375),
    ["Enchant"] = Vector3.new(1309.3783, -805.221191, -98.6691666),
    ["Relic"] = Vector3.new(-957.766052, 222.000015, -987.641968)
}

local function teleport(location)
    local player = LocalPlayer
    if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(location)
    end
end

TabTP:AddDropdown("Teleport NPC", {
    Title = "Select NPC",
    Values = {"Merchant", "Appraiser"},
    Multi = false,
    Callback = function(v)
        teleport(locations[v])
    end
})

TabTP:AddDropdown("Teleport Zone", {
    Title = "Select Zone",
    Values = {"Gole Fisch", "The Depths", "The Depths2", "Ancient Isle"},
    Multi = false,
    Callback = function(v)
        teleport(locations[v])
    end
})

TabTP:AddDropdown("Teleport Zone Boss", {
    Title = "Select Zone Boss",
    Values = {"Mossjew", "Kraken", "Scylla"},
    Multi = false,
    Callback = function(v)
        teleport(locations[v])
    end
})

TabTP:AddDropdown("Teleport Totem", {
    Title = "Select Totem",
    Values = {"Sundial", "Windset", "Smokescreen", "Tempest"},
    Multi = false,
    Callback = function(v)
        teleport(locations[v])
    end
})

TabTP:AddDropdown("Teleport Shop", {
    Title = "Select Shop",
    Values = {"Enchant", "Relic", "Craft", "QCrate"},
    Multi = false,
    Callback = function(v)
        teleport(locations[v])
    end
})

------------------------------------------------------------
-- ‚öôÔ∏è Tab : Settings
------------------------------------------------------------
local TabSetting = Window:AddTab({ Title = "Setting", Icon = "rbxassetid://6034509993" })

TabSetting:AddKeybind({
    Title = "Toggle UI",
    Mode = "Toggle",
    Default = Enum.KeyCode.RightControl,
    Callback = function()
        Fluent:ToggleUI()
    end
})
